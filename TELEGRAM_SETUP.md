# 텔레그램 봇 설정 가이드

## 1단계: 텔레그램 봇 생성

### BotFather로 봇 만들기

1. **텔레그램 앱에서 @BotFather 검색**
2. `/start` 명령어 입력
3. `/newbot` 명령어 입력
4. 봇 이름 입력 (예: ManiaGroup Bot)
5. 봇 사용자명 입력 (예: maniagroup_admin_bot)
6. **API 토큰 저장** (예: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz)

### 봇 설정

```
/setdescription - 봇 설명 설정
/setabouttext - 봇 소개 설정
/setuserpic - 봇 프로필 사진 설정
```

---

## 2단계: 그룹챗 생성 및 봇 추가

1. **새 그룹 만들기**
   - 그룹명: "매니아그룹 업무 자료"
   - 멤버: 대표님, 직원들

2. **봇을 그룹에 추가**
   - 그룹 설정 → 멤버 추가
   - 방금 만든 봇 검색 후 추가

3. **봇 권한 설정**
   - 관리자로 승격
   - 메시지 읽기 권한 부여

4. **그룹 ID 확인**
   ```bash
   curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates
   ```
   - chat.id 값 저장 (예: -1001234567890)

---

## 3단계: 환경 변수 설정

**`.env.local` 파일 생성:**

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_GROUP_CHAT_ID=-1001234567890

# Server Configuration
NEXT_PUBLIC_API_URL=http://localhost:3000
```

---

## 4단계: 봇 명령어 설정

BotFather에서 `/setcommands` 실행 후:

```
업로드 - 파일 업로드 가이드
목록 - 최근 업로드된 파일 목록
프로젝트 - 프로젝트 목록 조회
파트너 - 파트너 목록 조회
제품 - 제품 목록 조회
도움말 - 사용 가이드
```

---

## 5단계: 사용 방법

### 파일 업로드
```
1. 텔레그램 그룹에서 파일 업로드
2. 설명 메시지 추가 (선택)
3. 봇이 자동으로 감지 및 처리
4. 웹사이트에서 확인 가능
```

### 정보 조회
```
/목록 - 최근 업로드 파일
/프로젝트 - 진행 중인 프로젝트
/파트너 - 협력 파트너 목록
```

### 빠른 등록
```
제품: 제품명 / 브랜드 / 가격
파트너: 회사명 / 담당자 / 연락처
```

---

## 보안 설정

1. **봇 토큰 보안**
   - .env.local 파일은 절대 공개하지 않기
   - .gitignore에 추가

2. **그룹챗 보안**
   - 초대 링크 비활성화
   - 필요한 인원만 추가

3. **권한 관리**
   - 관리자 외 파일 삭제 금지
   - 중요한 작업은 승인 필요

---

## 문제 해결

### 봇이 응답하지 않을 때
1. 봇 토큰 확인
2. 그룹에 봇이 있는지 확인
3. 봇의 관리자 권한 확인

### 파일이 업로드되지 않을 때
1. 파일 크기 확인 (20MB 이하)
2. 파일 형식 확인
3. 서버 로그 확인

---

## 다음 단계

- [x] 봇 생성
- [x] 그룹챗 설정
- [ ] 서버 연동
- [ ] 자동 분류 테스트
- [ ] 실제 사용 시작
